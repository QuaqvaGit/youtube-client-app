"use strict";(self.webpackChunkyoutube_client_app=self.webpackChunkyoutube_client_app||[]).push([[631],{7631:(ct,v,s)=>{s.r(v),s.d(v,{default:()=>lt});var l=s(6814),M=s(6208),d=s(2526),h=s(7398);const O=s(1631).z;var D=s(9315),f=s(5438),t=s(4946),k=s(9862);let C=(()=>{class n{constructor(a){this.httpClient=a}getItemById(a){return this.httpClient.get("videos",{params:{id:a}}).pipe((0,h.U)(i=>i.items[0]))}getItems(a){return this.httpClient.get("search",{params:{q:a.searchValue,maxResults:16,type:"video"}}).pipe((0,h.U)(i=>i.items.map(e=>e.id)),O(i=>(0,D.D)(i.map(e=>this.getItemById(e.videoId)))),(0,h.U)(i=>this.applySearchParams(a,i)))}applySearchParams(a,i){let e=a.criteria;switch(e){case f.s.Date:e="snippet.publishedAt";break;case f.s.ViewsCount:e="statistics.viewCount"}const r=(u,c)=>{let m=u;return c.split(".").forEach(g=>{m=m[g]}),a.criteria===f.s.Date?new Date(m.toString()).getTime():Number(m)};return i.sort((u,c)=>{const g=c;return("ASC"===a.order?1:-1)*(r(u,e)-r(g,e))}),i}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(k.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=s(2490);let y=(()=>{class n{set publishDate(a){const i=new Date(a),e=Math.floor((Date.now()-i.getTime())/864e5),r=new Date,u=r.getMonth()-i.getMonth()+12*(r.getFullYear()-i.getFullYear());let c="blue";if(u>=6?c="red":u>1?c="yellow":e>=7&&(c="green"),this.colorElement(this.element.nativeElement,c),this.colorDeep){const{children:m}=this.element.nativeElement;Array.from(m).forEach(g=>{this.colorElement(g,c)})}}set colorProps(a){this.coloredProps=a}set deepColor(a){this.colorDeep=a}constructor(a,i){this.element=a,this.renderer=i,this.coloredProps=["borderColor"],this.colorDeep=!1}colorElement(a,i){this.coloredProps.forEach(e=>{this.renderer.setStyle(a,e,i)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","appDateColor",""]],inputs:{publishDate:["appDateColor","publishDate"],colorProps:"colorProps",deepColor:"deepColor"}})}return n})(),Z=(()=>{class n{constructor(){this.faClasses={likeCount:"fa-thumbs-up",dislikeCount:"fa-thumbs-down",favoriteCount:"fa-heart",viewCount:"fa-eye",commentCount:"fa-comment"}}transform(a){return this.faClasses[a]||a}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275pipe=t.Yjl({name:"getStatIcon",type:n,pure:!0})}return n})();const I=function(n){return{flex:n}};function A(n,o){if(1&n&&(t.TgZ(0,"div",2),t._UZ(1,"i"),t.ALo(2,"getStatIcon"),t.TgZ(3,"span",3),t._uU(4),t.qZA()()),2&n){const a=o.$implicit,i=t.oxw();t.Q6J("ngStyle",t.VKq(7,I,i.displayInOneLine?"0 0 auto":"0 0 40%")),t.xp6(1),t.Gre("fa ",t.lcZ(2,5,a.key),""),t.xp6(3),t.Oqu(a.value)}}const F=function(n){return{flexWrap:n}};let b=(()=>{class n{constructor(){this.displayInOneLine=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-video-statistics"]],inputs:{statistics:"statistics",displayInOneLine:"displayInOneLine"},decls:3,vars:6,consts:[[1,"video-statistics",3,"ngStyle"],["class","video-statistics__stat-wrapper",3,"ngStyle",4,"ngFor","ngForOf"],[1,"video-statistics__stat-wrapper",3,"ngStyle"],[1,"video-statistics__value"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.YNc(1,A,5,9,"div",1),t.ALo(2,"keyvalue"),t.qZA()),2&i&&(t.Q6J("ngStyle",t.VKq(4,F,e.displayInOneLine?"nowrap":"wrap")),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e.statistics)))},dependencies:[l.sg,l.PC,l.Nd,Z],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.video-statistics[_ngcontent-%COMP%]{margin:0 auto;width:55%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px 20px}.video-statistics__stat-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;gap:5px}.video-statistics__value[_ngcontent-%COMP%]{flex-grow:1;text-align:center}"]})}return n})();const L=function(){return{backgroundColor:"#a20000",fontColor:"white"}},S=function(){return{}},T=function(n,o){return{defaultColors:n,hoverColors:o}};let U=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-item"]],inputs:{itemData:"itemData"},decls:10,vars:11,consts:[[1,"video-item",3,"appDateColor"],[1,"video-item__thumbnail-name-wrapper"],["alt","Video thumbnail",1,"video-item__thumbnail",3,"src"],[1,"video-item__name-wrapper"],[1,"video-item__name"],[3,"statistics"],[3,"routerLink"],[1,"video-item__more",3,"parameters"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"span",4),t._uU(5),t.qZA()()(),t._UZ(6,"app-video-statistics",5),t.TgZ(7,"a",6)(8,"app-button",7),t._uU(9,"More"),t.qZA()()()),2&i&&(t.s9C("appDateColor",null==e.itemData||null==e.itemData.snippet?null:e.itemData.snippet.publishedAt),t.xp6(2),t.s9C("src",(null==e.itemData||null==e.itemData.snippet||null==e.itemData.snippet.thumbnails||null==e.itemData.snippet.thumbnails.maxres?null:e.itemData.snippet.thumbnails.maxres.url)||(null==e.itemData||null==e.itemData.snippet||null==e.itemData.snippet.thumbnails||null==e.itemData.snippet.thumbnails.high?null:e.itemData.snippet.thumbnails.high.url),t.LSH),t.xp6(3),t.Oqu(null==e.itemData||null==e.itemData.snippet?null:e.itemData.snippet.title),t.xp6(1),t.Q6J("statistics",null==e.itemData?null:e.itemData.statistics),t.xp6(1),t.MGl("routerLink","./",null==e.itemData?null:e.itemData.id,""),t.xp6(1),t.Q6J("parameters",t.WLB(8,T,t.DdM(6,L),t.DdM(7,S))))},dependencies:[_.Z,d.rH,y,b],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.video-item[_ngcontent-%COMP%]{width:310px;height:380px;border-radius:20px;border:3px solid;overflow:hidden;box-shadow:#959da533 0 8px 24px;display:flex;justify-content:space-between;align-items:center;flex-direction:column;gap:none;animation:_ngcontent-%COMP%_appear .3s ease-in-out}.video-item__thumbnail[_ngcontent-%COMP%]{width:100%;height:200px}.video-item__thumbnail-name-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;align-items:center;flex-direction:column;gap:none}.video-item__name-wrapper[_ngcontent-%COMP%]{width:100%;height:50px;padding:5px 0;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:none;background-color:#f0eeee}.video-item__name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-align:center;font-weight:700;width:100%}.video-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%}.video-item__more[_ngcontent-%COMP%]{margin-top:10px;width:100%;height:30px;border-radius:0 0 18px 18px}.video-item[_ngcontent-%COMP%]   app-video-statistics[_ngcontent-%COMP%]{margin:5px 0}"]})}return n})(),J=(()=>{class n{constructor(){this.filterCallback=(a,i)=>a.snippet.title.toLowerCase().includes(i)||a.snippet.tags.map(e=>e.toLowerCase()).includes(i)||a.snippet.description.toLowerCase().includes(i)}transform(a,i){return i?a.filter(e=>this.filterCallback(e,i.toLowerCase())):a}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275pipe=t.Yjl({name:"filterSearch",type:n,pure:!0})}return n})();function Y(n,o){1&n&&t._UZ(0,"app-search-item",3),2&n&&t.Q6J("itemData",o.$implicit)}function B(n,o){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,Y,1,1,"app-search-item",2),t.ALo(2,"filterSearch"),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.searchResults,a.searchParams.filterBy))}}let j=(()=>{class n{constructor(a,i){this.searchParams=a.snapshot.queryParams,a.queryParams.subscribe(e=>{Object.keys(e).length&&(this.searchParams=e,i.getItems(this.searchParams).subscribe(r=>{this.searchResults=r}))})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.gz),t.Y36(C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-page"]],decls:1,vars:1,consts:[["class","search-results",4,"ngIf"],[1,"search-results"],[3,"itemData",4,"ngFor","ngForOf"],[3,"itemData"]],template:function(i,e){1&i&&t.YNc(0,B,3,4,"div",0),2&i&&t.Q6J("ngIf",e.searchParams&&e.searchResults)},dependencies:[l.sg,l.O5,U,J],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.search-results[_ngcontent-%COMP%]{padding:0 40px;margin-top:50px;animation:_ngcontent-%COMP%_appear .3s ease-in-out;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:40px;flex-wrap:wrap}"]})}return n})();var Q=s(2181),q=s(9360),N=s(8251);let E=(()=>{class n{get prevUrl(){return this.prevLinkUrl.replace("%3F","?").replace("%3D","=")}constructor(a){this.router=a,this.prevLinkUrl="",this.router.events.pipe((0,Q.h)(i=>i instanceof d.R9),function z(){return(0,q.e)((n,o)=>{let a,i=!1;n.subscribe((0,N.x)(o,e=>{const r=a;a=e,i&&o.next([r,e]),i=!0}))})}()).subscribe(i=>{this.prevLinkUrl=i[0].urlAfterRedirects})}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(d.F0))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const R=function(){return{backgroundColor:"white",fontColor:"white"}},V=function(){return{}},G=function(n,o){return{defaultColors:n,hoverColors:o}},$=function(){return["backgroundColor","borderColor"]};let H=(()=>{class n{constructor(a,i,e){this.linkWatchService=e,this.prevLinkParams=Object.fromEntries(new URLSearchParams(e.prevUrl.split("?")[1]).entries()),a.params.subscribe(r=>{i.getItemById(r.id).subscribe(u=>{this.item=u})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.gz),t.Y36(C),t.Y36(E))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-info-page"]],decls:15,vars:21,consts:[[1,"detailed-video"],["routerLink","../",1,"detailed-video__go-back",3,"queryParams"],[3,"parameters","appDateColor","colorProps","deepColor"],[1,"fa","fa-less-than"],["alt","Video thumbnail",1,"detailed-video__thumbnail",3,"src"],[1,"detailed-video__info",3,"appDateColor"],[1,"detailed-video__title-wrapper"],[1,"detailed-video__title"],[1,"detailed-video__date"],[1,"detailed-video__description"],[3,"statistics","displayInOneLine"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"a",1)(2,"app-button",2),t._UZ(3,"i",3),t.qZA()(),t._UZ(4,"img",4),t.TgZ(5,"div",5)(6,"div",6)(7,"h2",7),t._uU(8),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"p",9),t._uU(13),t.qZA(),t._UZ(14,"app-video-statistics",10),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("queryParams",e.prevLinkParams),t.xp6(1),t.s9C("appDateColor",null==e.item||null==e.item.snippet?null:e.item.snippet.publishedAt),t.Q6J("parameters",t.WLB(17,G,t.DdM(15,R),t.DdM(16,V)))("colorProps",t.DdM(20,$))("deepColor",!0),t.xp6(2),t.s9C("src",(null==e.item||null==e.item.snippet||null==e.item.snippet.thumbnails||null==e.item.snippet.thumbnails.maxres?null:e.item.snippet.thumbnails.maxres.url)||(null==e.item||null==e.item.snippet||null==e.item.snippet.thumbnails||null==e.item.snippet.thumbnails.high?null:e.item.snippet.thumbnails.high.url),t.LSH),t.xp6(1),t.s9C("appDateColor",null==e.item||null==e.item.snippet?null:e.item.snippet.publishedAt),t.xp6(3),t.Oqu(null==e.item||null==e.item.snippet?null:e.item.snippet.title),t.xp6(2),t.Oqu(t.xi3(11,12,null==e.item||null==e.item.snippet?null:e.item.snippet.publishedAt,"fullDate")),t.xp6(3),t.Oqu(null==e.item||null==e.item.snippet?null:e.item.snippet.description),t.xp6(1),t.Q6J("statistics",null==e.item?null:e.item.statistics)("displayInOneLine",!0))},dependencies:[_.Z,d.rH,y,b,l.uU],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.detailed-video[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px;display:flex;justify-content:flex-start;align-items:stretch;flex-direction:row;gap:none;flex-wrap:wrap;width:max(80%,280px);position:relative;margin:50px auto 0;animation:_ngcontent-%COMP%_appear .3s ease-in-out;background-color:#f0eeee}.detailed-video__go-back[_ngcontent-%COMP%]{position:absolute;top:0;width:20px;left:-20px}.detailed-video__go-back[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}.detailed-video__thumbnail[_ngcontent-%COMP%]{max-width:70%;object-fit:cover}@media (max-width: 1250px){.detailed-video__thumbnail[_ngcontent-%COMP%]{max-width:100%}}.detailed-video__info[_ngcontent-%COMP%]{width:max(30%,300px);flex-grow:1;padding:10px;display:flex;justify-content:space-between;align-items:center;flex-direction:column;gap:20px;border-bottom:4px solid}.detailed-video__title-wrapper[_ngcontent-%COMP%]{width:100%}.detailed-video__title[_ngcontent-%COMP%]{text-align:center}.detailed-video__date[_ngcontent-%COMP%]{display:block;width:100%;text-align:right;font-size:.7em}.detailed-video__description[_ngcontent-%COMP%], .detailed-video[_ngcontent-%COMP%]   app-video-statistics[_ngcontent-%COMP%]{font-size:.8em}.detailed-video__description[_ngcontent-%COMP%]{text-align:justify;word-break:break-all}"]})}return n})();var p=s(6223),W=s(7939);let X=(()=>{class n extends W.Z{constructor(){super(...arguments),this.inputName=""}getErrorMessage(a){let i;switch(!0){case a.required:i=`Please enter a ${this.inputName}`;break;case!!a.maxlength:i=`${this.inputName} is too long`;break;case!!a.minlength:i=`${this.inputName} is too short`;break;default:i=`${this.inputName} is not valid`}return i}static#t=this.\u0275fac=function(){let a;return function(e){return(a||(a=t.n5z(n)))(e||n)}}();static#e=this.\u0275pipe=t.Yjl({name:"genericValidationMessage",type:n,pure:!0})}return n})();const K=n=>+new Date(n.value)<=Date.now()?null:{futureDate:!0};var tt=s(1313),et=s(5772);function nt(n,o){if(1&n&&t._UZ(0,"app-validated-input",8),2&n){const a=o.$implicit,i=o.index,e=t.oxw();t.Q6J("name",e.names[i])("inputControl",a)("validationMessagePipe",e.validationPipes[i])("type",i<4?"text":"date")}}function it(n,o){if(1&n&&t._UZ(0,"app-validated-input",9),2&n){const a=o.$implicit,i=o.index,e=t.oxw();t.Q6J("name","Tag "+(i+1))("inputControl",a)("validationMessagePipe",e.validationPipes.at(-1))}}const at=function(){return{backgroundColor:"#a20000",fontColor:"white"}},P=function(){return{}},w=function(n,o){return{defaultColors:n,hoverColors:o}};function ot(n,o){if(1&n){const a=t.EpF();t.TgZ(0,"app-button",7),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onTagAdd())}),t._uU(1,"+"),t.qZA()}2&n&&t.Q6J("parameters",t.WLB(3,w,t.DdM(1,at),t.DdM(2,P)))}const st=function(){return{backgroundColor:"#2486f6",fontColor:"white"}},rt=[{path:"",component:j},{path:"create",component:(()=>{class n{constructor(a){this.formBuilder=a,this.form=this.formBuilder.group({title:["",[p.kI.required,p.kI.minLength(3),p.kI.maxLength(20)]],description:["",[p.kI.maxLength(255)]],thumbnailLink:["",[p.kI.required]],videoLink:["",[p.kI.required]],creationDate:["",[p.kI.required,K]],tags:this.formBuilder.array([this.formBuilder.control("",[p.kI.required])])}),this.mainInputs=Object.values(this.form.controls).slice(0,-1),this.names=["title","description","thumbnail link","video link","creation date","tag"],this.validationPipes=this.names.map(i=>{const e=new X;return e.inputName=i,e}),this.tagsForm=this.form.get("tags")}onTagAdd(){this.tagsForm.push(this.formBuilder.control("",[p.kI.required]))}onReset(){this.form.reset(),this.tagsForm.clear(),this.onTagAdd()}onSubmit(){}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(p.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-page"]],decls:10,vars:12,consts:[[1,"admin-page"],[3,"form","onSubmit","title"],[3,"name","inputControl","validationMessagePipe","type",4,"ngFor","ngForOf"],[1,"admin-page__tags"],[1,"admin-page__tags-title"],[3,"name","inputControl","validationMessagePipe",4,"ngFor","ngForOf"],[3,"parameters","click",4,"ngIf"],[3,"parameters","click"],[3,"name","inputControl","validationMessagePipe","type"],[3,"name","inputControl","validationMessagePipe"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"app-form",1),t.YNc(2,nt,1,4,"app-validated-input",2),t.TgZ(3,"fieldset",3)(4,"h1",4),t._uU(5,"Tags"),t.qZA(),t.YNc(6,it,1,3,"app-validated-input",5),t.YNc(7,ot,2,6,"app-button",6),t.qZA(),t.TgZ(8,"app-button",7),t.NdJ("click",function(){return e.onReset()}),t._uU(9,"Reset"),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("form",e.form)("onSubmit",e.onSubmit)("title","Create new card"),t.xp6(1),t.Q6J("ngForOf",e.mainInputs),t.xp6(4),t.Q6J("ngForOf",e.tagsForm.controls),t.xp6(1),t.Q6J("ngIf",e.tagsForm.controls.length<5),t.xp6(1),t.Q6J("parameters",t.WLB(9,w,t.DdM(7,st),t.DdM(8,P))))},dependencies:[l.sg,l.O5,_.Z,tt.Z,et.Z],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.admin-page[_ngcontent-%COMP%]{margin-top:50px;animation:_ngcontent-%COMP%_appear .3s ease-in-out}.admin-page[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{display:block;width:max(300px,40vw);background-color:#f0eeee;padding:20px;border-radius:40px;box-shadow:#959da533 0 8px 24px}.admin-page[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]{width:max(80%,250px)}.admin-page[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]:first-of-type{margin-top:20px}.admin-page[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:max(30%,150px)}.admin-page__tags-title[_ngcontent-%COMP%]{margin-bottom:0}.admin-page__tags[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:none;border:none;border-top:2px solid #000000;border-bottom:2px solid #000000}.admin-page__tags[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_appear .5s ease-in-out}"]})}return n})()},{path:":id",component:H}];let pt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(rt),d.Bz]})}return n})(),lt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[l.ez,M.Z,pt]})}return n})()}}]);