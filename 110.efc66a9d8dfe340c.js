"use strict";(self.webpackChunkyoutube_client_app=self.webpackChunkyoutube_client_app||[]).push([[110],{7110:(Bt,v,r)=>{r.r(v),r.d(v,{default:()=>jt});var p=r(6814),I=r(6208),m=r(3278),T=r(5592),D=r(4829);const{isArray:A}=Array;var L=r(6232),C=r(8251),N=r(4564);var y=r(2181),Y=r(7398);const V=e=>e.videos.youtubeVideoIds.map(a=>e.videos.videos[a]);var U=r(2921),Q=r(1104);const j=e=>Math.ceil((e.videos.customVideoIds.length+e.videos.youtubeVideoIds.length)/20),B=e=>e.videos.customVideoIds.map(a=>e.videos.videos[a]);var h=r(5438),t=r(9212);let x=(()=>{class e{constructor(){this.filterCallback=(o,n)=>o.title.toLowerCase().includes(n)||o.tags&&o.tags.map(i=>i.toLowerCase()).includes(n)||o.description?.toLowerCase().includes(n)||!1}transform(o,n){if(!o)return null;if(!Object.keys(n).length)return o;const i=o.filter(s=>this.filterCallback(s,n.filterBy.toLowerCase()));return this.sort(n,i)}sort(o,n){let i=o.criteria;switch(i){case h.s.Date:i="publishDate";break;case h.s.ViewsCount:i="statistics.viewCount"}const s=(c,l)=>{let d=c;return l.split(".").forEach(g=>{d=d[g]}),o.criteria===h.s.Date?new Date(d.toString()).getTime():Number(d)};return n.sort((c,l)=>{const g=l;return("ASC"===o.order?1:-1)*(s(c,i)-s(g,i))}),n}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=t.Yjl({name:"applySearchParams",type:e,pure:!0})}return e})();var _=r(4221),$=r(1819),E=r(3259),q=r(7367),P=r(8483),f=r(2490);let b=(()=>{class e{set publishDate(o){const n=new Date(o),i=Math.floor((Date.now()-n.getTime())/864e5),s=new Date,c=s.getMonth()-n.getMonth()+12*(s.getFullYear()-n.getFullYear());let l="blue";if(c>=6?l="red":c>1?l="yellow":i>=7&&(l="green"),this.colorElement(this.element.nativeElement,l),this.colorDeep){const{children:d}=this.element.nativeElement;Array.from(d).forEach(g=>{this.colorElement(g,l)})}}set colorProps(o){this.coloredProps=o}set deepColor(o){this.colorDeep=o}constructor(o,n){this.element=o,this.renderer=n,this.coloredProps=["borderColor"],this.colorDeep=!1}colorElement(o,n){this.coloredProps.forEach(i=>{this.renderer.setStyle(o,i,n)})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:e,selectors:[["","appDateColor",""]],inputs:{publishDate:["appDateColor","publishDate"],colorProps:"colorProps",deepColor:"deepColor"}})}return e})(),z=(()=>{class e{constructor(){this.faClasses={likeCount:"fa-thumbs-up",dislikeCount:"fa-thumbs-down",favoriteCount:"fa-heart",viewCount:"fa-eye",commentCount:"fa-comment"}}transform(o){return this.faClasses[o]||o}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=t.Yjl({name:"getStatIcon",type:e,pure:!0})}return e})();const G=e=>({flex:e});function H(e,a){if(1&e&&(t.TgZ(0,"div",2),t._UZ(1,"i"),t.ALo(2,"getStatIcon"),t.TgZ(3,"span",3),t._uU(4),t.qZA()()),2&e){const o=a.$implicit,n=t.oxw();t.Q6J("ngStyle",t.VKq(7,G,n.displayInOneLine?"0 0 auto":"0 0 40%")),t.xp6(1),t.Gre("fa ",t.lcZ(2,5,o.key),""),t.xp6(3),t.Oqu(o.value)}}const W=e=>({flexWrap:e});let O=(()=>{class e{constructor(){this.displayInOneLine=!1}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-video-statistics"]],inputs:{statistics:"statistics",displayInOneLine:"displayInOneLine"},decls:3,vars:6,consts:[[1,"video-statistics",3,"ngStyle"],["class","video-statistics__stat-wrapper",3,"ngStyle",4,"ngFor","ngForOf"],[1,"video-statistics__stat-wrapper",3,"ngStyle"],[1,"video-statistics__value"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,H,5,9,"div",1),t.ALo(2,"keyvalue"),t.qZA()),2&n&&(t.Q6J("ngStyle",t.VKq(4,W,i.displayInOneLine?"nowrap":"wrap")),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,i.statistics)))},dependencies:[p.sg,p.PC,p.Nd,z],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.video-statistics[_ngcontent-%COMP%]{margin:0 auto;width:55%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px 20px}.video-statistics__stat-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;gap:5px}.video-statistics__value[_ngcontent-%COMP%]{flex-grow:1;text-align:center}"]})}return e})();function X(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.onDelete())}),t._UZ(1,"i",11),t.qZA()}}const R=(e,a)=>({"fa-heart":!0,"fa-solid":e,"fa-regular":a});function K(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.onFavoriteToggle())}),t._UZ(1,"i",13),t.qZA()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(1,R,o.video.isFavorite,!o.video.isFavorite))}}function tt(e,a){if(1&e&&t._UZ(0,"app-video-statistics",14),2&e){const o=t.oxw();t.Q6J("statistics",o.video.statistics)}}const et=()=>({backgroundColor:"#a20000",fontColor:"white"}),ot=()=>({}),nt=(e,a)=>({defaultColors:e,hoverColors:a});let M=(()=>{class e{constructor(o,n){this.store=o,this.toastService=n,this.isCustom=!1}onDelete(){this.store.dispatch((0,$.Z)({id:this.video.id})),this.toastService.error("Video deleted successfully")}onFavoriteToggle(){this.video.isFavorite?(this.store.dispatch((0,E.Z)({id:this.video.id})),this.toastService.error("Video deleted from favorites")):(this.store.dispatch((0,q.Z)({id:this.video.id})),this.toastService.error("Video added to favorites"))}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(_.yh),t.Y36(P.kl))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-item"]],inputs:{video:"video",isCustom:"isCustom"},decls:13,vars:13,consts:[[1,"video-item",3,"appDateColor"],[1,"video-item__thumbnail-name-wrapper"],["alt","Video thumbnail",1,"video-item__thumbnail",3,"src"],[1,"video-item__name-wrapper"],[1,"video-item__name"],["class","video-item__delete",3,"click",4,"ngIf","ngIfElse"],["favoriteButton",""],[3,"statistics",4,"ngIf"],[3,"routerLink"],[1,"video-item__more",3,"parameters"],[1,"video-item__delete",3,"click"],[1,"fa","fa-xmark"],[1,"video-item__favorite",3,"click"],[3,"ngClass"],[3,"statistics"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"span",4),t._uU(5),t.qZA()(),t.YNc(6,X,2,0,"button",5)(7,K,2,4,"ng-template",null,6,t.W1O),t.qZA(),t.YNc(9,tt,1,1,"app-video-statistics",7),t.TgZ(10,"a",8)(11,"app-button",9),t._uU(12,"More"),t.qZA()()()),2&n){const s=t.MAs(8);t.s9C("appDateColor",i.video.publishDate),t.xp6(2),t.s9C("src",i.video.thumbnail,t.LSH),t.xp6(3),t.Oqu(i.video.title),t.xp6(1),t.Q6J("ngIf",i.isCustom)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",i.video.statistics),t.xp6(1),t.MGl("routerLink","/videos/",i.video.id,""),t.xp6(1),t.Q6J("parameters",t.WLB(10,nt,t.DdM(8,et),t.DdM(9,ot)))}},dependencies:[p.mk,p.O5,f.Z,m.rH,b,O],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.video-item[_ngcontent-%COMP%]{width:310px;height:380px;border-radius:20px;border:3px solid;overflow:hidden;position:relative;box-shadow:#959da533 0 8px 24px;display:flex;justify-content:space-between;align-items:center;flex-direction:column;gap:none;animation:_ngcontent-%COMP%_appear .3s ease-in-out}.video-item__thumbnail[_ngcontent-%COMP%]{width:100%;height:200px}.video-item__thumbnail-name-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;align-items:center;flex-direction:column;gap:none}.video-item__name-wrapper[_ngcontent-%COMP%]{width:100%;height:50px;padding:5px 0;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:none;background-color:#f0eeee}.video-item__name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-align:center;font-weight:700;width:100%}.video-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%}.video-item__more[_ngcontent-%COMP%]{margin-top:10px;width:100%;height:30px;border-radius:0 0 18px 18px}.video-item[_ngcontent-%COMP%]   app-video-statistics[_ngcontent-%COMP%]{margin:5px 0}.video-item__delete[_ngcontent-%COMP%], .video-item__favorite[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:20px;top:20px;background-color:#f0eeee;color:#a20000;border:none;padding:5px;font-size:1.25em;border-radius:10px;transition:scale .3s ease-in-out}.video-item__delete[_ngcontent-%COMP%]:hover, .video-item__favorite[_ngcontent-%COMP%]:hover{scale:1.25}.video-item__delete[_ngcontent-%COMP%]:active, .video-item__favorite[_ngcontent-%COMP%]:active{scale:.95}"]})}return e})();const it=()=>({backgroundColor:"#a20000",fontColor:"white"}),at=()=>({backgroundColor:"#bd0303",fontColor:"white"}),st=(e,a)=>({defaultColors:e,hoverColors:a});function rt(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"app-button",2),t.NdJ("click",function(){const s=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onPageSelect(s))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("parameters",t.WLB(4,st,t.DdM(2,it),t.DdM(3,at))),t.xp6(1),t.Oqu(o)}}let w=(()=>{class e{constructor(){this.pageNumber=new t.vpe,this.pages=[]}onPageSelect(o){this.pageNumber.emit(o)}ngOnChanges(){this.pages=this.pagesCount>1?Array(this.pagesCount).fill(0).map((o,n)=>n+1):[]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pagination"]],inputs:{pagesCount:"pagesCount"},outputs:{pageNumber:"pageNumber"},features:[t.TTD],decls:2,vars:1,consts:[[1,"pagination"],["class","pagination__page",3,"parameters","click",4,"ngFor","ngForOf"],[1,"pagination__page",3,"parameters","click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,rt,2,7,"app-button",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.pages))},dependencies:[p.sg,f.Z],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.pagination[_ngcontent-%COMP%]{width:75%;overflow-x:scroll;margin:20px auto 0;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:20px}.pagination__page[_ngcontent-%COMP%]{width:40px;font-size:1.25em;border-radius:10px}.pagination[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]})}return e})();function ct(e,a){if(1&e&&t._UZ(0,"app-search-item",4),2&e){const o=a.$implicit;t.Q6J("video",o)("isCustom",!o.statistics)}}function pt(e,a){if(1&e&&(t.TgZ(0,"div",2),t.YNc(1,ct,1,2,"app-search-item",3),t.ALo(2,"async"),t.qZA()),2&e){const o=t.oxw();let n;t.xp6(1),t.Q6J("ngForOf",null==(n=t.lcZ(2,1,o.items$))?null:n.slice(20*(o.pageNumber-1),20*o.pageNumber))}}let lt=(()=>{class e{constructor(o,n){this.pageNumber=1,this.searchParams=o.snapshot.queryParams;const i=n.select(V),s=n.select(B);this.items$=function J(...e){const a=(0,N.jO)(e),o=function S(e){return 1===e.length&&A(e[0])?e[0]:e}(e);return o.length?new T.y(n=>{let i=o.map(()=>[]),s=o.map(()=>!1);n.add(()=>{i=s=null});for(let c=0;!n.closed&&c<o.length;c++)(0,D.Xf)(o[c]).subscribe((0,C.x)(n,l=>{if(i[c].push(l),i.every(d=>d.length)){const d=i.map(g=>g.shift());n.next(a?a(...d):d),i.some((g,F)=>!g.length&&s[F])&&n.complete()}},()=>{s[c]=!0,!i[c].length&&n.complete()}));return()=>{i=s=null}}):L.E}(s,i).pipe((0,y.h)(()=>!!this.searchParams?.searchValue),(0,Y.U)(([c,l])=>{const d=new x;return[...d.transform(c,this.searchParams),...d.transform(l,this.searchParams)]})),o.queryParams.subscribe(c=>{n.dispatch((0,U.Z)()),Object.keys(c).length&&(this.searchParams=c,n.dispatch((0,Q.L)({searchParams:this.searchParams})))}),this.pageCount$=n.select(j)}onPageChange(o){this.pageNumber=o}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(m.gz),t.Y36(_.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-page"]],decls:3,vars:4,consts:[["class","search-results",4,"ngIf"],[3,"pagesCount","pageNumber"],[1,"search-results"],[3,"video","isCustom",4,"ngFor","ngForOf"],[3,"video","isCustom"]],template:function(n,i){1&n&&(t.YNc(0,pt,3,3,"div",0),t.TgZ(1,"app-pagination",1),t.NdJ("pageNumber",function(c){return i.onPageChange(c)}),t.ALo(2,"async"),t.qZA()),2&n&&(t.Q6J("ngIf",i.searchParams),t.xp6(1),t.Q6J("pagesCount",t.lcZ(2,2,i.pageCount$)))},dependencies:[p.sg,p.O5,M,w,p.Ov],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.search-results[_ngcontent-%COMP%]{padding:0 40px;margin-top:50px;animation:_ngcontent-%COMP%_appear .3s ease-in-out;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:40px;flex-wrap:wrap}"]})}return e})();var dt=r(9360);let ut=(()=>{class e{get prevUrl(){return this.prevLinkUrl.replace("%3F","?").replace("%3D","=")}constructor(o){this.router=o,this.prevLinkUrl="",this.router.events.pipe((0,y.h)(n=>n instanceof m.R9),function mt(){return(0,dt.e)((e,a)=>{let o,n=!1;e.subscribe((0,C.x)(a,i=>{const s=o;o=i,n&&a.next([s,i]),n=!0}))})}()).subscribe(n=>{this.prevLinkUrl=n[0].urlAfterRedirects})}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(m.F0))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _t(e,a){if(1&e&&t._UZ(0,"app-video-statistics",12),2&e){const o=t.oxw().ngIf;t.Q6J("statistics",null==o?null:o.statistics)("displayInOneLine",!0)}}const ft=()=>({backgroundColor:"",fontColor:"red"}),ht=()=>({backgroundColor:"white",fontColor:"red"}),vt=(e,a)=>({defaultColors:e,hoverColors:a}),Ct=()=>["backgroundColor","borderColor"];function yt(e,a){if(1&e&&(t.TgZ(0,"div",1)(1,"a",2)(2,"app-button",3),t._UZ(3,"i",4),t.qZA()(),t._UZ(4,"img",5),t.TgZ(5,"div",6)(6,"div",7)(7,"h2",8),t._uU(8),t.qZA(),t.TgZ(9,"span",9),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"p",10),t._uU(13),t.qZA(),t.YNc(14,_t,1,2,"app-video-statistics",11),t.qZA()()),2&e){const o=a.ngIf,n=t.oxw();t.xp6(1),t.Q6J("queryParams",n.prevLinkParams),t.xp6(1),t.s9C("appDateColor",null==o?null:o.publishDate),t.Q6J("parameters",t.WLB(16,vt,t.DdM(14,ft),t.DdM(15,ht)))("colorProps",t.DdM(19,Ct))("deepColor",!0),t.xp6(2),t.s9C("src",null==o?null:o.thumbnail,t.LSH),t.xp6(1),t.s9C("appDateColor",null==o?null:o.publishDate),t.xp6(3),t.Oqu(null==o?null:o.title),t.xp6(2),t.Oqu(t.xi3(11,11,null==o?null:o.publishDate,"fullDate")),t.xp6(3),t.Oqu(null==o?null:o.description),t.xp6(1),t.Q6J("ngIf",null==o?null:o.statistics)}}let xt=(()=>{class e{constructor(o,n,i){this.linkWatchService=n,this.prevLinkParams=Object.fromEntries(new URLSearchParams(n.prevUrl.split("?")[1]).entries()),this.item$=i.select((e=>a=>a.videos.videos[e]||a.videos.favoriteVideos[e])(o.snapshot.params.id))}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(m.gz),t.Y36(ut),t.Y36(_.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-detailed-info-page"]],decls:2,vars:3,consts:[["class","detailed-video",4,"ngIf"],[1,"detailed-video"],["routerLink","../",1,"detailed-video__go-back",3,"queryParams"],[3,"parameters","appDateColor","colorProps","deepColor"],[1,"fa","fa-less-than"],["alt","Video thumbnail",1,"detailed-video__thumbnail",3,"src"],[1,"detailed-video__info",3,"appDateColor"],[1,"detailed-video__title-wrapper"],[1,"detailed-video__title"],[1,"detailed-video__date"],[1,"detailed-video__description"],[3,"statistics","displayInOneLine",4,"ngIf"],[3,"statistics","displayInOneLine"]],template:function(n,i){1&n&&(t.YNc(0,yt,15,20,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,i.item$))},dependencies:[p.O5,f.Z,m.rH,b,O,p.Ov,p.uU],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.detailed-video[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px;display:flex;justify-content:flex-start;align-items:stretch;flex-direction:row;gap:none;flex-wrap:wrap;width:max(80%,280px);position:relative;margin:50px auto 0;animation:_ngcontent-%COMP%_appear .3s ease-in-out;background-color:#f0eeee}.detailed-video__go-back[_ngcontent-%COMP%]{position:absolute;top:0;width:20px;left:-20px}.detailed-video__go-back[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}.detailed-video__thumbnail[_ngcontent-%COMP%]{max-width:70%;object-fit:cover}@media (max-width: 1250px){.detailed-video__thumbnail[_ngcontent-%COMP%]{max-width:100%}}.detailed-video__info[_ngcontent-%COMP%]{width:max(30%,300px);flex-grow:1;padding:10px;display:flex;justify-content:space-between;align-items:center;flex-direction:column;gap:20px;border-bottom:4px solid}.detailed-video__title-wrapper[_ngcontent-%COMP%]{width:100%}.detailed-video__title[_ngcontent-%COMP%]{text-align:center}.detailed-video__date[_ngcontent-%COMP%]{display:block;width:100%;text-align:right;font-size:.7em}.detailed-video__description[_ngcontent-%COMP%], .detailed-video[_ngcontent-%COMP%]   app-video-statistics[_ngcontent-%COMP%]{font-size:.8em}.detailed-video__description[_ngcontent-%COMP%]{text-align:justify;word-break:break-all}"]})}return e})();var Pt=r(5861),u=r(6223),bt=r(7939);let Ot=(()=>{class e extends bt.Z{constructor(){super(...arguments),this.inputName=""}getErrorMessage(o){let n;switch(!0){case o.required:n=`Please enter a ${this.inputName}`;break;case!!o.maxlength:n=`${this.inputName} is too long`;break;case!!o.minlength:n=`${this.inputName} is too short`;break;default:n=`${this.inputName} is not valid`}return n}static#t=this.\u0275fac=(()=>{let o;return function(i){return(o||(o=t.n5z(e)))(i||e)}})();static#e=this.\u0275pipe=t.Yjl({name:"genericValidationMessage",type:e,pure:!0})}return e})();var Mt=r(3693);const wt=e=>e.videos.customVideoIds.length?(+e.videos.customVideoIds.at(-1)+1).toString():"0";var Zt=r(4036);const kt=e=>+new Date(e.value)<=Date.now()?null:{futureDate:!0};var Ft=r(1313),It=r(5772);function Tt(e,a){if(1&e&&t._UZ(0,"app-validated-input",8),2&e){const o=a.$implicit,n=a.index,i=t.oxw();t.Q6J("name",i.names[n])("inputControl",o)("validationMessagePipe",i.validationPipes[n])("type",n<4?"text":"date")}}function Dt(e,a){if(1&e&&t._UZ(0,"app-validated-input",9),2&e){const o=a.$implicit,n=a.index,i=t.oxw();t.Q6J("name","Tag "+(n+1))("inputControl",o)("validationMessagePipe",i.validationPipes.at(-1))}}const At=()=>({backgroundColor:"#a20000",fontColor:"white"}),Z=()=>({}),k=(e,a)=>({defaultColors:e,hoverColors:a});function St(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"app-button",7),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.onTagAdd())}),t._uU(1,"+"),t.qZA()}2&e&&t.Q6J("parameters",t.WLB(3,k,t.DdM(1,At),t.DdM(2,Z)))}const Lt=()=>({backgroundColor:"#2486f6",fontColor:"white"}),Jt=e=>Object.values(e.videos.favoriteVideos),Yt=e=>Math.ceil(Object.keys(e.videos.favoriteVideos).length/20);function Vt(e,a){1&e&&t._UZ(0,"app-search-item",3),2&e&&t.Q6J("video",a.$implicit)}const Ut=[{path:"",component:lt},{path:"create",component:(()=>{class e{constructor(o,n,i,s){this.formBuilder=o,this.store=n,this.router=i,this.toast=s,this.form=this.formBuilder.group({title:["",[u.kI.required,u.kI.minLength(3),u.kI.maxLength(20)]],description:["",[u.kI.maxLength(255)]],thumbnailLink:["",[u.kI.required]],videoLink:["",[u.kI.required]],creationDate:["",[u.kI.required,kt]],tags:this.formBuilder.array([this.formBuilder.control("",[u.kI.required])])}),this.mainInputs=Object.values(this.form.controls).slice(0,-1),this.names=["title","description","thumbnail link","video link","creation date","tag"],this.validationPipes=this.names.map(c=>{const l=new Ot;return l.inputName=c,l}),this.tagsForm=this.form.get("tags")}onTagAdd(){this.tagsForm.push(this.formBuilder.control("",[u.kI.required]))}onReset(){this.form.reset(),this.tagsForm.clear(),this.onTagAdd()}onSubmit(){var o=this;return(0,Pt.Z)(function*(){const i={id:yield(0,Zt.z)(o.store.select(wt)),title:o.form.get("title").value,thumbnail:o.form.get("thumbnailLink").value,videoUrl:o.form.get("videoLink").value,publishDate:o.form.get("creationDate").value,tags:o.tagsForm.value},s=o.form.get("description")?.value;s&&(i.description=s),o.store.dispatch((0,Mt.Z)({video:i})),o.router.navigateByUrl("videos"),o.toast.error("Video added successfully")})()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(u.qu),t.Y36(_.yh),t.Y36(m.F0),t.Y36(P.kl))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-page"]],decls:10,vars:12,consts:[[1,"admin-page"],[3,"form","onSubmit","title"],[3,"name","inputControl","validationMessagePipe","type",4,"ngFor","ngForOf"],[1,"admin-page__tags"],[1,"admin-page__tags-title"],[3,"name","inputControl","validationMessagePipe",4,"ngFor","ngForOf"],[3,"parameters","click",4,"ngIf"],[3,"parameters","click"],[3,"name","inputControl","validationMessagePipe","type"],[3,"name","inputControl","validationMessagePipe"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"app-form",1),t.YNc(2,Tt,1,4,"app-validated-input",2),t.TgZ(3,"fieldset",3)(4,"h1",4),t._uU(5,"Tags"),t.qZA(),t.YNc(6,Dt,1,3,"app-validated-input",5)(7,St,2,6,"app-button",6),t.qZA(),t.TgZ(8,"app-button",7),t.NdJ("click",function(){return i.onReset()}),t._uU(9,"Reset"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("form",i.form)("onSubmit",i.onSubmit.bind(i))("title","Create new card"),t.xp6(1),t.Q6J("ngForOf",i.mainInputs),t.xp6(4),t.Q6J("ngForOf",i.tagsForm.controls),t.xp6(1),t.Q6J("ngIf",i.tagsForm.controls.length<5),t.xp6(1),t.Q6J("parameters",t.WLB(9,k,t.DdM(7,Lt),t.DdM(8,Z))))},dependencies:[p.sg,p.O5,f.Z,Ft.Z,It.Z],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.admin-page[_ngcontent-%COMP%]{margin-top:50px;animation:_ngcontent-%COMP%_appear .3s ease-in-out}.admin-page[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{display:block;width:max(300px,40vw);background-color:#f0eeee;padding:20px;border-radius:40px;box-shadow:#959da533 0 8px 24px}.admin-page[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]{width:max(80%,250px)}.admin-page[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]:first-of-type{margin-top:20px}.admin-page[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:max(30%,150px)}.admin-page__tags-title[_ngcontent-%COMP%]{margin-bottom:0}.admin-page__tags[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:none;border:none;border-top:2px solid #000000;border-bottom:2px solid #000000}.admin-page__tags[_ngcontent-%COMP%]   app-validated-input[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_appear .5s ease-in-out}"]})}return e})()},{path:"favorite",component:(()=>{class e{constructor(o,n){this.store=o,this.items$=this.store.select(Jt),this.pageCount$=this.store.select(Yt),this.pageNumber=1,this.searchParams=n.snapshot.queryParams,n.queryParams.subscribe(i=>{this.searchParams=i})}onPageChange(o){this.pageNumber=o}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(_.yh),t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-favorite-page"]],decls:6,vars:9,consts:[[1,"favorites"],[3,"video",4,"ngFor","ngForOf"],[3,"pagesCount","pageNumber"],[3,"video"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Vt,1,1,"app-search-item",1),t.ALo(2,"applySearchParams"),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"app-pagination",2),t.NdJ("pageNumber",function(c){return i.onPageChange(c)}),t.ALo(5,"async"),t.qZA()),2&n){let s;t.xp6(1),t.Q6J("ngForOf",null==(s=t.xi3(2,2,t.lcZ(3,5,i.items$),i.searchParams))?null:s.slice(20*(i.pageNumber-1),20*i.pageNumber)),t.xp6(3),t.Q6J("pagesCount",t.lcZ(5,7,i.pageCount$))}},dependencies:[p.sg,M,w,p.Ov,x],styles:["@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_disappear{0%{opacity:1}to{opacity:0}}.favorites[_ngcontent-%COMP%]{padding:0 40px;margin-top:50px;animation:_ngcontent-%COMP%_appear .3s ease-in-out;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:40px;flex-wrap:wrap}"]})}return e})()},{path:":id",component:xt}];let Qt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(Ut),m.Bz]})}return e})(),jt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[p.ez,I.Z,Qt]})}return e})()}}]);